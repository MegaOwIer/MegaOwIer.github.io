---
title: 2022 ICPC 香港站 (Gym 104172) 训练记录
slug: cf-gym-104172
date: 2023-02-10

tags:
  - Greedy
  - DP
categories:
  - ICPC

description: EC-Final 2022 赛前例行训练
draft: false

image: pixiv-63278410.jpg
lastmod: 2023-02-16
---

## 正式训练

### K. Maximum GCD

注意到两个结论：首先，对 $n$ 任意取模的结果只可能是小于 $\dfrac{n}{2}$ 的正整数。其次，一个序列的最大公约数不会超过这个序列的最小值。

不妨设给出的序列的最小值为 $a$。如果序列没有 $[a + 1, 2a]$ 中的数，那么根据结论一，其他所有数均可以变成 $a$，而结论二表明这一结果是最大的。

序列中有 $2a$ 并不会影响上述结论，因为显然 $a$ 能整除 $2a$，不影响最大公约数。

如果序列中有 $[a + 1, 2a)$ 中的数，那么显然 $a$ 已经取不到了。如果 $a$ 是偶数，我们可以将所有 $[a + 1, 2a)$ 中的数变成 $\dfrac{a}{2}$ 来构造出一组解。如果 $a$ 是奇数，我们可以将所有 $[a, 2a)$ 中的数变成 $\dfrac{a - 1}{2}$ 来构造出一组解。

### A. TreeScript

显然把一个子树建完再开新坑是最优的。然后不难发现对于每个节点 $u$，最后一个被建的子树可以复用 $u$ 的寄存器。直接 DP 即可。

### L. Permutation Compression

由于每次删除的是一个区间的最大值，考虑从大到小进行贪心。每次删的时候查一下最长能用多长的区间进行删除。需要用一些数据结构维护由于删除造成的下标偏移。

{{< highlight-content file="L.cpp" lang="cpp" >}}

### F. Sum of Numbers

可以发现切出来相邻的两端长度之差不能超过 $1$。暴力枚举即可。

赛时这题的代码是队友写的，赛后感觉实现的不是很精细就自己重写了一个版本。

{{< highlight-content file="F.cpp" lang="cpp" >}}

## 补题记录

EH 题队友在训练的时候解决了。剩下的题暂咕。
